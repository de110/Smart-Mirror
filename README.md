# Smart-Mirror
2020-1 가상 피팅기 팀 프로젝트
스마트 피팅 미러

개발 인원 - 3

실제로 옷을 입어볼 수 없는 상황이 발생하여 옷 선택의 어려움을 느낄 때 이를 해결할 시스템을 제안하고자 하였다.

1. 시스템 구성

    1.1 시스템 구성도
    
    ![시스템_구성도](https://user-images.githubusercontent.com/67581448/234192537-1c1f9697-acf6-409e-a7b3-deaef99e9f72.png)
    
    1.2 하드웨어
    
        - 하드웨어는 XBox 360 키넥트(Kinect) 카메라, DFRobot사의 라떼판다(DFR0419), 삼성전자의 S24D300 모니터로 구성된다.

        - 키넥트 카메라에서 제공하는 스켈레톤 트래킹(skeleton tracking)을 통해 사용자의 신체와 동작을 인식한다. 

        - 라떼판다를 사용하여 임베디드 시스템을 구축한다.

        - 모니터를 통해 사용자가 자신의 모습을 확인할 수 있도록 구축된 시스템을 바탕으로 한 사용자의 모습을 보여준다.
        
    1.3 소프트웨어
    
        - Visual Studio 2019 C# 과 Unity를 기반으로 개발하였다.

        - 날씨 정보와 사용자의 표정 인식을 위해 기상청의 날씨 API와 Google Cloud의 Vision API를 사용하였다.
    
2. 착장 추천 알고리즘
    
    본 시스템의 착장 추천 방식은 다음과 같이 진행된다.
    
    ![알고리즘](https://user-images.githubusercontent.com/67581448/234192650-ee6fadb9-2206-4305-909c-279dbff6dc9d.png)
    
    
    a. 디스플레이에 나타난 사용자의 모습을 인식한다.
    
    b. 사용자가 시작 버튼을 클릭하는 경우 당일의 기온 값을 가져온다.
    
    c. 기온 값을 기준으로 날씨에 어울리는 상의 카테고리를 지정하여 옷 추천을 진행한다.
    
    d. 추천된 옷을 사용자의 모습에 피팅한다.
    
    e. 사용자의 표정을 인식하여 감정을 분석한다.
    
    f. 분석된 감정을 기반으로 옷을 다시 추천하거나, 추천을 종료한다.
    
     - Google Cloud API가 인식할 수 있는 감정의 종류는 총 네 가지(JOY, SORROW, ANGER, SURPRISE)이며, 본 시스템에서는 그 중 JOY 속성을 기준으로 추천을 진행한다.

     - JOY는 다섯 개의 단계로 구분되며, 3단계 이상이 되면 만족스러운 옷이 추천되었다고 판단해 다음 알고리즘으로 이동한다. <br/>
        
        
        | 1단계 | VERY_UNLIKELY |
        | --- | --- |
        | 2단계 | UNLIKELY |
        | 3단계 | POSSIBLE |
        | 4단계 | LIKELY |
        | 5단계 | VERY_LIKELY |
        
        < 표 1 > Google Cloud의 표정 인식에 따른 감정 분석 단계
        

3. 결과

    ![하드웨어_구성](https://user-images.githubusercontent.com/67581448/234192660-a176b574-b7a7-4aef-8560-e13bff280c28.png)

    **하드웨어 구성**

   <img width="350" alt="스켈레톤_트래킹" src="https://github.com/de110/Smart-Mirror/assets/67581448/21c46e2e-cec4-4c11-a2ee-a70d837103fe">

   **스켈레톤 트래킹**
   
    ![결과](https://github.com/de110/Smart-Mirror/assets/67581448/67752779-9d9a-4ca5-911d-abca416432bb)
   
   **테스트 화면**

    
    키넥트 카메라를 통해 사용자를 인식할 경우, 모니터에 사용자의 모습을 나타낸다.

    하드웨어 구성 사진에 나타나는 화면은 사용자를 인식하기 전의 모습이다.

    테스트 화면의 좌측 하단에는 날씨 API를 통해 받은 기온, 날짜와 현재 시간을 표시하였고

    우측 하단에는 제스처 인식 기능을 수행하는 시작 버튼을 위치시켰다.
     
   3.1 보완점
     
     사용자가 소지하고 있거나 사용자의 취향을 고려하기 위해 다양한 의사 모델의 반영의 필요성과, 인체와 의상과의 매칭 정확도 향상이 요구된다.
